<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Há»‡ thá»‘ng Ä‘iá»ƒm danh AI</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="sidebar">
      <h4>ğŸ“š Menu</h4>
      <a href="#" id="nav-upload" class="active">ğŸ“¤ Upload áº£nh</a>
      <a href="#" id="nav-schedule">ğŸ“… Thá»i khÃ³a biá»ƒu</a>
      <a href="#" id="nav-attendance-list">ğŸ“‹ Danh sÃ¡ch Ä‘iá»ƒm danh</a>
    </div>

    <div class="main">
      <!-- Upload -->
      <div id="page-upload" class="fade-in">
        <h3>ğŸ“¤ Upload áº£nh sinh viÃªn</h3>
        <form id="uploadForm" class="mt-4">
          <div class="mb-4">
            <label class="form-label fw-medium">MÃ£ sinh viÃªn:</label>
            <input type="text" id="studentCode" class="form-control" required />
          </div>
          <div class="mb-4">
            <label class="form-label fw-medium">áº¢nh khuÃ´n máº·t:</label>
            <input
              type="file"
              id="studentImage"
              class="form-control"
              accept="image/*"
              multiple
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">Gá»­i áº£nh</button>
          <p id="uploadResult" class="mt-3 text-success"></p>
        </form>
      </div>

      <!-- Schedule -->
      <div id="page-schedule" class="hidden fade-in">
        <h3>ğŸ“… Thá»i khÃ³a biá»ƒu</h3>
        <table class="schedule-table mt-4">
          <thead>
            <tr>
              <th>Khung giá»</th>
              <th>Thá»© 2</th>
              <th>Thá»© 3</th>
              <th>Thá»© 4</th>
              <th>Thá»© 5</th>
              <th>Thá»© 6</th>
              <th>Thá»© 7</th>
              <th>Chá»§ nháº­t</th>
            </tr>
          </thead>
          <tbody id="scheduleTable"></tbody>
        </table>
      </div>

      <!-- Attendance -->
      <div id="page-attendance" class="hidden fade-in">
        <h4>
          ğŸ“· Äiá»ƒm danh mÃ´n:
          <span id="subjectName" class="text-primary"></span> - Lá»›p:
          <span id="className" class="text-primary"></span>
        </h4>
        <div class="d-flex gap-2 mb-4">
          <button id="startFaceRecognition" class="btn btn-info">
            ğŸ¤³ Äiá»ƒm danh báº±ng khuÃ´n máº·t
          </button>
          <button id="stopFaceRecognition" class="btn btn-danger hidden">
            ğŸ›‘ Dá»«ng nháº­n diá»‡n
          </button>
          <button id="saveAttendance" type="button" class="btn btn-success">
            ğŸ’¾ LÆ°u Ä‘iá»ƒm danh
          </button>
        </div>

        <div id="videoContainer" class="video-container my-4 hidden">
          <img id="streamFrame" class="stream-frame" />
        </div>

        <!-- Báº£ng danh sÃ¡ch sinh viÃªn ban Ä‘áº§u -->
        <h5 class="mt-4">Danh sÃ¡ch sinh viÃªn</h5>
        <table class="table table-striped table-bordered bg-white">
          <thead>
            <tr>
              <th>MÃ£ SV</th>
              <th>Há» tÃªn</th>
              <th>Tráº¡ng thÃ¡i</th>
            </tr>
          </thead>
          <tbody id="studentList"></tbody>
        </table>
      </div>

      <!-- Attendance List -->
      <div id="page-attendance-list" class="hidden fade-in">
        <h3>ğŸ“‹ Danh sÃ¡ch Ä‘iá»ƒm danh</h3>
        <div class="attendance-container mt-4">
          <div class="selection-panel">
            <h5>Chá»n lá»›p há»c</h5>
            <select id="classSelect" class="form-select mb-3">
              <option value="">-- Chá»n lá»›p --</option>
            </select>
            <h5>Chá»n mÃ´n há»c</h5>
            <select id="subjectSelect" class="form-select mb-3" disabled>
              <option value="">-- Chá»n mÃ´n --</option>
            </select>
            <h5>Danh sÃ¡ch buá»•i há»c</h5>
            <div
              id="sessionList"
              class="accordion"
              style="max-height: 300px; overflow-y: auto"
            ></div>
          </div>
        </div>
      </div>

      <!-- Canvas áº©n Ä‘á»ƒ xá»­ lÃ½ áº£nh -->
      <canvas id="hiddenCanvas"></canvas>
    </div>

    <!-- Modal ThÃ´ng BÃ¡o -->
    <div
      class="modal fade"
      id="statusModal"
      tabindex="-1"
      aria-labelledby="statusModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body text-center py-4">
            <div id="statusIcon" class="status-icon mb-3">
              <!-- Icon sáº½ Ä‘Æ°á»£c thÃªm Ä‘á»™ng qua JS (dáº¥u tÃ­ch hoáº·c dáº¥u X) -->
            </div>
            <p id="statusMessage" class="fs-5"></p>
            <button
              type="button"
              class="btn btn-primary mt-3"
              data-bs-dismiss="modal"
            >
              ÄÃ³ng
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
